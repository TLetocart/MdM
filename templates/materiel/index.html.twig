{% extends 'base.html.twig' %}

{% block title %}Liste des Matériels{% endblock %}

{% block body %}
    <div class="container mt-4">
    <table id="materielTable" class="display">
        <thead>
        <tr>
            <th>ID</th>
            <th>Nom</th>
            <th>Prix HT</th>
            <th>TVA</th>
            <th>Prix TTC</th>
            <th>Quantité</th>
            <th>Voir</th>
            <th>Modifier</th>
        </tr>
        </thead>
        <tbody>
        {% for materiel in materiels %}
            <tr>
            <td>{{ materiel.id }}</td>
            <td>{{ materiel.nom }}</td>
            <td>{{ materiel.prixHt }}</td>
            <td>{{ materiel.tva }}</td>
            <td>{{ materiel.prixTtc }}</td>
            <td>{{ materiel.quantite }}</td>
            <td>
                <!-- Bouton Voir -->
                <button class="btn btn-info btn-sm" data-toggle="modal" data-target="#modal{{ materiel.id }}">Voir</button>
                <div class="modal fade" id="modal{{ materiel.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ materiel.id }}" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ materiel.id }}">Détails du produit</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <p>ID: {{ materiel.id }}</p>
                                <p>Nom: {{ materiel.nom }}</p>
                                <p>Prix HT: {{ materiel.prixHt }}</p>
                                <p>TVA: {{ materiel.tva }}</p>
                                <p>Prix TTC: {{ materiel.prixTtc }}</p>
                                <p>Quantité: {{ materiel.quantite }}</p>
                                <p>Date de création: {{ materiel.dateDeCreation|date('Y-m-d H:i:s') }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
            <td>
                <a href="{{ path('materiel_edit', {'id': materiel.id}) }}" class="btn btn-primary btn-sm">Modifier</a>
            </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    


    <script>
        $(document).ready(function() {
            $('#materielTable').DataTable();
        });
    </script>

    </div>
{% endblock %}

